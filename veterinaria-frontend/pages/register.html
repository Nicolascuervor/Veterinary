<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crea tu Cuenta - VetCare Pro</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700;800&display=swap" rel="stylesheet">

    <style>
        /* Estilos idénticos a los de la página de login para coherencia */
        :root {
            --primary-color: #4A90E2;
            --secondary-color: #50E3C2;
            --dark-text: #333A45;
            --light-text: #6c757d;
            --bg-light: #f8f9fa;
            --border-color: #dee2e6;
        }

        body {
            font-family: 'Manrope', sans-serif;
            background-color: var(--bg-light);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow: hidden;
        }

        main.register-container {
            display: flex;
            width: 100%;
            flex-grow: 1;
        }

        .info-panel {
            background: linear-gradient(135deg, var(--primary-color), #3a7bc8);
            color: white;
            padding: 4rem 3rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            width: 45%;
        }

        .form-panel {
            width: 55%;
            padding: 2rem 3rem 4rem;
            background-color: #fff;
            display: flex;
            flex-direction: column;
            justify-content: center;
            transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out;
        }

        /* Animación de salida para el formulario de registro */
        .form-panel.slide-out {
            transform: translateX(100%);
            opacity: 0;
        }

        /* (El resto de los estilos son los mismos que en la versión anterior del registro) */
        .info-panel h1{font-weight: 800; margin-bottom: 1rem;}
        .info-panel .logo{font-size: 2rem;font-weight: 800;margin-bottom: 2rem;}
        .info-panel .benefit-item{display: flex;align-items: center;margin-top: 1.5rem;font-size: 1.1rem;}
        .info-panel .benefit-item .fa-check-circle{margin-right: 1rem;color: var(--secondary-color);}
        .form-panel h2{font-weight: 800;color: var(--dark-text);margin-bottom: 0.5rem;}
        .form-panel .sub-heading{color: var(--light-text);margin-bottom: 2rem;}
        .input-group-text{background-color: var(--bg-light);border-right: none;}
        .form-control:focus{border-color: var(--primary-color);box-shadow: 0 0 0 0.25rem rgba(74, 144, 226, 0.2);}
        .form-floating > .form-control{border-left: none;}
        .btn-primary{background-color: var(--primary-color);border-color: var(--primary-color);padding: 0.8rem;font-weight: 700;font-size: 1.1rem;}
        .btn-primary:disabled{background-color: #a0c3ec;border-color: #a0c3ec;}
        .form-section-title{font-weight: 700;color: var(--primary-color);margin-bottom: 1.5rem;padding-bottom: 0.5rem;border-bottom: 2px solid var(--border-color);}

        @media (max-width: 992px){
            main.register-container{flex-direction: column;}
            .info-panel, .form-panel{width: 100%;padding: 2rem;}
            .info-panel{text-align: center;}
        }
    </style>
</head>
<body>
<header id="nav-container"></header>

<main class="register-container">
    <div class="info-panel">
        <div class="logo"><i class="fas fa-paw"></i> VetCare Pro</div>
        <h1 class="display-5">Únete a nuestra familia</h1>
        <p class="lead">Crea tu cuenta para acceder a un mundo de cuidado y bienestar para tu mejor amigo.</p>
        <div class="mt-4">
            <div class="benefit-item"><i class="fas fa-check-circle fa-lg"></i><span>Gestiona las citas de tus mascotas fácilmente.</span></div>
            <div class="benefit-item"><i class="fas fa-check-circle fa-lg"></i><span>Accede al historial clínico en cualquier momento.</span></div>
            <div class="benefit-item"><i class="fas fa-check-circle fa-lg"></i><span>Recibe recordatorios y consejos de salud.</span></div>
        </div>
    </div>

    <div class="form-panel">
        <h2>Crear una cuenta</h2>
        <p class="sub-heading">¿Ya tienes una? <a href="login.html" id="redirect-link">Inicia sesión aquí</a>.</p>

        <form id="register-form" novalidate>
            <h5 class="form-section-title">Información Personal</h5>
            <div class="row">
                <div class="col-md-6 mb-3"><div class="input-group"><span class="input-group-text"><i class="fas fa-user"></i></span><div class="form-floating"><input type="text" class="form-control" id="nombre" placeholder="Nombre" required><label for="nombre">Nombre *</label></div></div></div>
                <div class="col-md-6 mb-3"><div class="input-group"><span class="input-group-text"><i class="fas fa-user"></i></span><div class="form-floating"><input type="text" class="form-control" id="apellido" placeholder="Apellido" required><label for="apellido">Apellido *</label></div></div></div>
                <div class="col-md-6 mb-3"><div class="input-group"><span class="input-group-text"><i class="fas fa-id-card"></i></span><div class="form-floating"><input type="text" class="form-control" id="cedula" placeholder="Cédula" required><label for="cedula">Cédula *</label></div></div></div>
                <div class="col-md-6 mb-3"><div class="input-group"><span class="input-group-text"><i class="fas fa-phone"></i></span><div class="form-floating"><input type="text" class="form-control" id="telefono" placeholder="Teléfono" required><label for="telefono">Teléfono *</label></div></div></div>
                <div class="col-12 mb-4"><div class="input-group"><span class="input-group-text"><i class="fas fa-map-marker-alt"></i></span><div class="form-floating"><input type="text" class="form-control" id="direccion" placeholder="Dirección" required><label for="direccion">Dirección *</label></div></div></div>
            </div>
            <h5 class="form-section-title">Datos de la Cuenta</h5>
            <div class="row">
                <div class="col-12 mb-3"><div class="input-group"><span class="input-group-text"><i class="fas fa-envelope"></i></span><div class="form-floating"><input type="email" class="form-control" id="username" placeholder="Correo electrónico" required><label for="username">Correo electrónico *</label></div></div></div>
                <div class="col-md-6 mb-3"><div class="input-group"><span class="input-group-text"><i class="fas fa-lock"></i></span><div class="form-floating"><input type="password" class="form-control" id="password" placeholder="Contraseña" required><label for="password">Contraseña *</label></div></div></div>
                <div class="col-md-6 mb-3"><div class="input-group"><span class="input-group-text"><i class="fas fa-lock"></i></span><div class="form-floating"><input type="password" class="form-control" id="confirm-password" placeholder="Confirmar Contraseña" required><label for="confirm-password">Confirmar Contraseña *</label></div></div><div id="password-match-error" class="text-danger mt-1" style="display: none; font-size: 0.9rem;">Las contraseñas no coinciden.</div></div>
            </div>
            <div class="d-grid mt-3"><button id="register-button" type="submit" class="btn btn-primary" disabled>Crear Cuenta</button></div>
        </form>
        <p id="error-message" class="error text-center mt-3"></p>
    </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="../js/nav.js"></script>
<script src="../js/auth.js"></script>
<script>
    // Script para animación de salida
    document.getElementById('redirect-link').addEventListener('click', function(e) {
        e.preventDefault();
        const formPanel = document.querySelector('.form-panel');
        const destination = this.href;

        formPanel.classList.add('slide-out');

        setTimeout(() => {
            window.location.href = destination;
        }, 500);
    });

    // Script de validación de formulario (idéntico al de la respuesta anterior)
    document.addEventListener('DOMContentLoaded', () => {
        const passwordInput = document.getElementById('password');
        const confirmPasswordInput = document.getElementById('confirm-password');
        const errorMessage = document.getElementById('password-match-error');
        const registerButton = document.getElementById('register-button');
        function validatePasswords() {
            if(passwordInput.value && confirmPasswordInput.value){
                if(passwordInput.value === confirmPasswordInput.value){
                    errorMessage.style.display = 'none';
                    confirmPasswordInput.classList.remove('is-invalid');
                    confirmPasswordInput.classList.add('is-valid');
                } else {
                    errorMessage.style.display = 'block';
                    confirmPasswordInput.classList.remove('is-valid');
                    confirmPasswordInput.classList.add('is-invalid');
                    registerButton.disabled = true;
                }
            } else {
                errorMessage.style.display = 'none';
                confirmPasswordInput.classList.remove('is-invalid', 'is-valid');
            }
        }
        const form = document.getElementById('register-form');
        const requiredInputs = form.querySelectorAll('input[required]');
        function checkFormValidity(){
            const allFilled = [...requiredInputs].every(input => input.value.trim() !== '');
            const passwordsMatch = passwordInput.value === confirmPasswordInput.value;
            if (allFilled && passwordsMatch) {
                registerButton.disabled = false;
            } else {
                registerButton.disabled = true;
            }
        }
        passwordInput.addEventListener('input', validatePasswords);
        confirmPasswordInput.addEventListener('input', validatePasswords);
        form.addEventListener('input', checkFormValidity);
    });
</script>
</body>
</html>